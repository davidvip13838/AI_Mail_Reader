files:
  "/opt/elasticbeanstalk/hooks/appdeploy/pre/01_install_dependencies.sh":
    mode: "000755"
    owner: root
    group: root
    content: |
      #!/bin/bash
      set -e
      cd /var/app/ondeck
      
      # Install backend dependencies
      echo "Installing backend dependencies..."
      cd backend
      npm install --production
      cd ..
      
      # Install frontend dependencies and build
      echo "Installing frontend dependencies..."
      cd frontend
      npm install
      echo "Building frontend..."
      npm run build
      cd ..
      
      echo "Dependencies installed and frontend built successfully"

